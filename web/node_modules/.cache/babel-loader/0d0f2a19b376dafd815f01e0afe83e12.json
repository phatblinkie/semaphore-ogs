{"ast":null,"code":"import axios from 'axios';\nimport { getErrorMessage } from '@/lib/error';\nexport default {\n  props: {\n    integrationId: [Number, String]\n  },\n  methods: {\n    /**\n     * Saves or creates item via API.\n     * @returns {Promise<null>} null if validation didn't pass or user data if user saved.\n     */\n    async save() {\n      this.formError = null;\n      if (!this.$refs.form.validate()) {\n        this.$emit('error', {});\n        return null;\n      }\n      this.formSaving = true;\n      let item;\n      try {\n        await this.beforeSave();\n        item = (await axios({\n          method: this.isNew ? 'post' : 'put',\n          url: this.isNew ? this.getItemsUrl() : this.getSingleItemUrl(),\n          responseType: 'json',\n          data: {\n            ...this.item,\n            integration_id: this.integrationId\n          },\n          ...this.getRequestOptions()\n        })).data;\n        await this.afterSave(item);\n        this.$emit('save', {\n          item: item || this.item,\n          action: this.isNew ? 'new' : 'edit'\n        });\n      } catch (err) {\n        this.formError = getErrorMessage(err);\n        this.$emit('error', {\n          message: this.formError\n        });\n      } finally {\n        this.formSaving = false;\n      }\n      return item || this.item;\n    }\n  }\n};","map":{"version":3,"names":["axios","getErrorMessage","props","integrationId","Number","String","methods","save","formError","$refs","form","validate","$emit","formSaving","item","beforeSave","method","isNew","url","getItemsUrl","getSingleItemUrl","responseType","data","integration_id","getRequestOptions","afterSave","action","err","message"],"sources":["/home/admin/repos/semaphore-ogs/web/src/components/IntegrationExtractorChildValueFormBase.js"],"sourcesContent":["import axios from 'axios';\nimport { getErrorMessage } from '@/lib/error';\n\nexport default {\n  props: {\n    integrationId: [Number, String],\n  },\n  methods: {\n    /**\n     * Saves or creates item via API.\n     * @returns {Promise<null>} null if validation didn't pass or user data if user saved.\n     */\n    async save() {\n      this.formError = null;\n\n      if (!this.$refs.form.validate()) {\n        this.$emit('error', {});\n        return null;\n      }\n\n      this.formSaving = true;\n      let item;\n\n      try {\n        await this.beforeSave();\n\n        item = (await axios({\n          method: this.isNew ? 'post' : 'put',\n          url: this.isNew\n            ? this.getItemsUrl()\n            : this.getSingleItemUrl(),\n          responseType: 'json',\n          data: {\n            ...this.item,\n            integration_id: this.integrationId,\n          },\n          ...(this.getRequestOptions()),\n        })).data;\n\n        await this.afterSave(item);\n\n        this.$emit('save', {\n          item: item || this.item,\n          action: this.isNew ? 'new' : 'edit',\n        });\n      } catch (err) {\n        this.formError = getErrorMessage(err);\n        this.$emit('error', {\n          message: this.formError,\n        });\n      } finally {\n        this.formSaving = false;\n      }\n\n      return item || this.item;\n    },\n  },\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,eAAe,QAAQ,aAAa;AAE7C,eAAe;EACbC,KAAK,EAAE;IACLC,aAAa,EAAE,CAACC,MAAM,EAAEC,MAAM;EAChC,CAAC;EACDC,OAAO,EAAE;IACP;AACJ;AACA;AACA;IACI,MAAMC,IAAIA,CAAA,EAAG;MACX,IAAI,CAACC,SAAS,GAAG,IAAI;MAErB,IAAI,CAAC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,QAAQ,CAAC,CAAC,EAAE;QAC/B,IAAI,CAACC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;QACvB,OAAO,IAAI;MACb;MAEA,IAAI,CAACC,UAAU,GAAG,IAAI;MACtB,IAAIC,IAAI;MAER,IAAI;QACF,MAAM,IAAI,CAACC,UAAU,CAAC,CAAC;QAEvBD,IAAI,GAAG,CAAC,MAAMd,KAAK,CAAC;UAClBgB,MAAM,EAAE,IAAI,CAACC,KAAK,GAAG,MAAM,GAAG,KAAK;UACnCC,GAAG,EAAE,IAAI,CAACD,KAAK,GACX,IAAI,CAACE,WAAW,CAAC,CAAC,GAClB,IAAI,CAACC,gBAAgB,CAAC,CAAC;UAC3BC,YAAY,EAAE,MAAM;UACpBC,IAAI,EAAE;YACJ,GAAG,IAAI,CAACR,IAAI;YACZS,cAAc,EAAE,IAAI,CAACpB;UACvB,CAAC;UACD,GAAI,IAAI,CAACqB,iBAAiB,CAAC;QAC7B,CAAC,CAAC,EAAEF,IAAI;QAER,MAAM,IAAI,CAACG,SAAS,CAACX,IAAI,CAAC;QAE1B,IAAI,CAACF,KAAK,CAAC,MAAM,EAAE;UACjBE,IAAI,EAAEA,IAAI,IAAI,IAAI,CAACA,IAAI;UACvBY,MAAM,EAAE,IAAI,CAACT,KAAK,GAAG,KAAK,GAAG;QAC/B,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOU,GAAG,EAAE;QACZ,IAAI,CAACnB,SAAS,GAAGP,eAAe,CAAC0B,GAAG,CAAC;QACrC,IAAI,CAACf,KAAK,CAAC,OAAO,EAAE;UAClBgB,OAAO,EAAE,IAAI,CAACpB;QAChB,CAAC,CAAC;MACJ,CAAC,SAAS;QACR,IAAI,CAACK,UAAU,GAAG,KAAK;MACzB;MAEA,OAAOC,IAAI,IAAI,IAAI,CAACA,IAAI;IAC1B;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}