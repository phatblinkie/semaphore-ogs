{"ast":null,"code":"import axios from 'axios';\nimport { APP_ICONS, APP_TITLE } from '../lib/constants';\nexport default {\n  data() {\n    return {\n      appsMixin: {\n        activeAppIds: [],\n        apps: null\n      }\n    };\n  },\n  async created() {\n    const apps = await this.loadAppsDataFromBackend();\n    this.appsMixin.activeAppIds = apps.filter(app => app.active).map(app => app.id);\n    this.appsMixin.apps = apps.reduce((prev, app) => ({\n      ...prev,\n      [app.id]: app\n    }), {});\n  },\n  computed: {\n    isAppsLoaded() {\n      return this.appsMixin.apps != null;\n    }\n  },\n  methods: {\n    async loadAppsDataFromBackend() {\n      return (await axios({\n        method: 'get',\n        url: '/api/apps',\n        responseType: 'json'\n      })).data;\n    },\n    getAppColor(id) {\n      if (this.appsMixin.apps[id]?.color) {\n        return this.appsMixin.apps[id].color || 'gray';\n      }\n      if (APP_ICONS[id]) {\n        return this.$vuetify.theme.dark ? APP_ICONS[id].darkColor : APP_ICONS[id].color;\n      }\n      return 'gray';\n    },\n    getAppTitle(id) {\n      if (this.appsMixin.apps[id]?.title) {\n        return this.appsMixin.apps[id].title;\n      }\n      if (APP_TITLE[id]) {\n        return APP_TITLE[id];\n      }\n      return '';\n    },\n    getAppIcon(id) {\n      if (this.appsMixin.apps[id]?.icon) {\n        return `mdi-${this.appsMixin.apps[id].icon}`;\n      }\n      if (APP_ICONS[id]) {\n        return APP_ICONS[id].icon;\n      }\n      return 'mdi-help';\n    }\n  }\n};","map":{"version":3,"names":["axios","APP_ICONS","APP_TITLE","data","appsMixin","activeAppIds","apps","created","loadAppsDataFromBackend","filter","app","active","map","id","reduce","prev","computed","isAppsLoaded","methods","method","url","responseType","getAppColor","color","$vuetify","theme","dark","darkColor","getAppTitle","title","getAppIcon","icon"],"sources":["/home/admin/repos/semaphore-ogs/web/src/components/AppsMixin.js"],"sourcesContent":["import axios from 'axios';\nimport { APP_ICONS, APP_TITLE } from '../lib/constants';\n\nexport default {\n  data() {\n    return {\n      appsMixin: {\n        activeAppIds: [],\n        apps: null,\n      },\n    };\n  },\n\n  async created() {\n    const apps = await this.loadAppsDataFromBackend();\n\n    this.appsMixin.activeAppIds = apps.filter((app) => app.active).map((app) => app.id);\n\n    this.appsMixin.apps = apps.reduce((prev, app) => ({\n      ...prev,\n      [app.id]: app,\n    }), {});\n  },\n\n  computed: {\n    isAppsLoaded() {\n      return this.appsMixin.apps != null;\n    },\n  },\n\n  methods: {\n    async loadAppsDataFromBackend() {\n      return (await axios({\n        method: 'get',\n        url: '/api/apps',\n        responseType: 'json',\n      })).data;\n    },\n\n    getAppColor(id) {\n      if (this.appsMixin.apps[id]?.color) {\n        return this.appsMixin.apps[id].color || 'gray';\n      }\n\n      if (APP_ICONS[id]) {\n        return this.$vuetify.theme.dark ? APP_ICONS[id].darkColor : APP_ICONS[id].color;\n      }\n\n      return 'gray';\n    },\n\n    getAppTitle(id) {\n      if (this.appsMixin.apps[id]?.title) {\n        return this.appsMixin.apps[id].title;\n      }\n\n      if (APP_TITLE[id]) {\n        return APP_TITLE[id];\n      }\n\n      return '';\n    },\n\n    getAppIcon(id) {\n      if (this.appsMixin.apps[id]?.icon) {\n        return `mdi-${this.appsMixin.apps[id].icon}`;\n      }\n\n      if (APP_ICONS[id]) {\n        return APP_ICONS[id].icon;\n      }\n\n      return 'mdi-help';\n    },\n\n  },\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,SAAS,QAAQ,kBAAkB;AAEvD,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE;QACTC,YAAY,EAAE,EAAE;QAChBC,IAAI,EAAE;MACR;IACF,CAAC;EACH,CAAC;EAED,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAMD,IAAI,GAAG,MAAM,IAAI,CAACE,uBAAuB,CAAC,CAAC;IAEjD,IAAI,CAACJ,SAAS,CAACC,YAAY,GAAGC,IAAI,CAACG,MAAM,CAAEC,GAAG,IAAKA,GAAG,CAACC,MAAM,CAAC,CAACC,GAAG,CAAEF,GAAG,IAAKA,GAAG,CAACG,EAAE,CAAC;IAEnF,IAAI,CAACT,SAAS,CAACE,IAAI,GAAGA,IAAI,CAACQ,MAAM,CAAC,CAACC,IAAI,EAAEL,GAAG,MAAM;MAChD,GAAGK,IAAI;MACP,CAACL,GAAG,CAACG,EAAE,GAAGH;IACZ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACT,CAAC;EAEDM,QAAQ,EAAE;IACRC,YAAYA,CAAA,EAAG;MACb,OAAO,IAAI,CAACb,SAAS,CAACE,IAAI,IAAI,IAAI;IACpC;EACF,CAAC;EAEDY,OAAO,EAAE;IACP,MAAMV,uBAAuBA,CAAA,EAAG;MAC9B,OAAO,CAAC,MAAMR,KAAK,CAAC;QAClBmB,MAAM,EAAE,KAAK;QACbC,GAAG,EAAE,WAAW;QAChBC,YAAY,EAAE;MAChB,CAAC,CAAC,EAAElB,IAAI;IACV,CAAC;IAEDmB,WAAWA,CAACT,EAAE,EAAE;MACd,IAAI,IAAI,CAACT,SAAS,CAACE,IAAI,CAACO,EAAE,CAAC,EAAEU,KAAK,EAAE;QAClC,OAAO,IAAI,CAACnB,SAAS,CAACE,IAAI,CAACO,EAAE,CAAC,CAACU,KAAK,IAAI,MAAM;MAChD;MAEA,IAAItB,SAAS,CAACY,EAAE,CAAC,EAAE;QACjB,OAAO,IAAI,CAACW,QAAQ,CAACC,KAAK,CAACC,IAAI,GAAGzB,SAAS,CAACY,EAAE,CAAC,CAACc,SAAS,GAAG1B,SAAS,CAACY,EAAE,CAAC,CAACU,KAAK;MACjF;MAEA,OAAO,MAAM;IACf,CAAC;IAEDK,WAAWA,CAACf,EAAE,EAAE;MACd,IAAI,IAAI,CAACT,SAAS,CAACE,IAAI,CAACO,EAAE,CAAC,EAAEgB,KAAK,EAAE;QAClC,OAAO,IAAI,CAACzB,SAAS,CAACE,IAAI,CAACO,EAAE,CAAC,CAACgB,KAAK;MACtC;MAEA,IAAI3B,SAAS,CAACW,EAAE,CAAC,EAAE;QACjB,OAAOX,SAAS,CAACW,EAAE,CAAC;MACtB;MAEA,OAAO,EAAE;IACX,CAAC;IAEDiB,UAAUA,CAACjB,EAAE,EAAE;MACb,IAAI,IAAI,CAACT,SAAS,CAACE,IAAI,CAACO,EAAE,CAAC,EAAEkB,IAAI,EAAE;QACjC,OAAQ,OAAM,IAAI,CAAC3B,SAAS,CAACE,IAAI,CAACO,EAAE,CAAC,CAACkB,IAAK,EAAC;MAC9C;MAEA,IAAI9B,SAAS,CAACY,EAAE,CAAC,EAAE;QACjB,OAAOZ,SAAS,CAACY,EAAE,CAAC,CAACkB,IAAI;MAC3B;MAEA,OAAO,UAAU;IACnB;EAEF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}